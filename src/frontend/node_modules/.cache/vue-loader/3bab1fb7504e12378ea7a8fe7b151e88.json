{"remainingRequest":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/incident/IncidentDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/incident/IncidentDetail.vue","mtime":1616364022183},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkluY2lkZW50RGV0YWlsIiwKICBwcm9wczogWydpZCddLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmNpZGVudDogbnVsbCwKICAgICAgY29tbWVudHM6IG51bGwsCiAgICAgIHN1cGVyYmVpbmdzOiBudWxsLAogICAgICBjaXZpbHM6IG51bGwsCiAgICAgIG9yZ2FuaXNhdGlvbnM6IG51bGwsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyAxCiAgICBnZXRJbmNpZGVudERldGFpbHMoKSB7CiAgICAgIGZldGNoKCIvc2hpZWxkL2luY2lkZW50LyIgKyB0aGlzLmlkKQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgIHRoaXMuaW5jaWRlbnQgPSBkYXRhLmluY2lkZW50OwogICAgICAgICAgICB0aGlzLmNvbW1lbnRzID0gZGF0YS5jb21tZW50czsKICAgICAgICAgICAgdGhpcy5zdXBlcmJlaW5ncyA9IGRhdGEuc3VwZXJiZWluZ3M7CiAgICAgICAgICAgIHRoaXMuY2l2aWxzID0gZGF0YS5jaXZpbHM7CiAgICAgICAgICAgIHRoaXMub3JnYW5pc2F0aW9ucyA9IGRhdGEub3JnYW5pc2F0aW9uczsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5pbmNpZGVudCkKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5pbmNpZGVudCkKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5jb21tZW50cykKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jb21tZW50cykKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5zdXBlcmJlaW5ncykKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zdXBlcmJlaW5ncykKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5jaXZpbHMpCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY2l2aWxzKQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLm9yZ2FuaXNhdGlvbnMpCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMub3JnYW5pc2F0aW9ucykKCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkpOwogICAgfSwKICAgIC8vMgogICAgY3JlYXRlZCgpIHsKICAgICAgdGhpcy5nZXRJbmNpZGVudERldGFpbHMoKTsKCiAgICB9LAogICAgLy8gMwogICAgYmFja3dhcmQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSkKICAgIH0sCiAgICAvLzQKICAgIGZvcm1hdF9kYXRlKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIHJldHVybiBtb21lbnQoU3RyaW5nKHZhbHVlKSkuZm9ybWF0KCdERC9NTS9ZWVlZJykKICAgICAgfQogICAgfQoKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNyZWF0ZWQoKQogIH0KfQo="},{"version":3,"sources":["/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/incident/IncidentDetail.vue"],"names":[],"mappings":";;AAgEA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAE3B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACrB;EACF,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACP,CAAC,EAAE;IACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;YACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACvC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;UAEnC,CAAC;UACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7C,CAAC;IACD,CAAC,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAE3B,CAAC;IACD,CAAC,EAAE;IACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC;IACD,CAAC,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACjB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACT,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClD;IACF;;EAEF,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACf;AACF","file":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/incident/IncidentDetail.vue","sourceRoot":"","sourcesContent":["<template>\n\n  <div class=\"page-content p-5\">\n    <button @click=\"backward\" class=\"back-btn btn btn-secondary mb-2\">Retour</button>\n    <div class=\"grid-container\">\n      <div class=\"incident-information\">\n        <div class=\"info-nav pl-2 text-white\">INFORMATIONS</div>\n        <div class=\"info-content px-2 grid-container-incident-info\" v-if=\"incident\">\n          <div class=\"grid-item grid-item-1\"><span>RÉFÉRENCE : </span><span>{{ incident.ref }}</span></div>\n          <div class=\"grid-item grid-item-2\"><span>DATE DE DÉBUT : </span><span>{{ format_date(incident.startDate) }}</span></div>\n          <div class=\"grid-item grid-item-3\">\n            <span>DATE DE FIN : </span><span>{{ incident.endDate ? format_date(incident.endDate) : ' -' }}</span></div>\n          <div class=\"grid-item grid-item-4\"><span>STATUT : </span><span>{{ incident.status }}</span></div>\n          <div class=\"grid-item grid-item-5\"><span>DANGEROSITÉ : </span><span>{{ incident.dangerousness }}%</span></div>\n          <div class=\"grid-item grid-item-6\"><span>RÉSOLU : </span><span\n              :class=\"incident.solved ? 'text-success' : 'text-danger'\"> {{ incident.solved ? 'OUI' : 'NON' }}</span>\n          </div>\n          <div class=\"grid-item grid-item-7\"><span>DÉCLARÉE PAR : </span><span>{{ incident.declaredBy }}</span></div>\n          <div class=\"grid-item grid-item-8\"><span>RÉDIGÉE PAR : </span><span>{{ incident.redactedBy }}</span></div>\n          <div class=\"grid-item grid-item-9\"><span>TYPE D'INCIDENT : </span><span>{{ incident.eventType }}</span></div>\n        </div>\n        <div class=\"info-content px-2\" v-else>No informations available for this incident</div>\n      </div>\n      <div class=\"comment-information\">\n        <table class=\"table table-bordered table-hover table-sm\" id=\"incident-table\">\n          <thead class=\"text-light\">\n          <tr>\n            <th scope=\"col\">COMMENTAIRES</th>\n          </tr>\n          </thead>\n\n          <tbody class=\"table-striped\" v-if=\"comments\">\n          <tr v-for=\"comment in comments\" :key=\"comment.id\">\n            <td>{{ comment.comments }}</td>\n          </tr>\n          </tbody>\n          <tbody class=\"table-striped\" v-else>\n          <tr>\n            <td colspan=\"7\">Aucun incident pour l'instant</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n\n\n  <div v-if=\"superbeings\">\n\n    <div v-for=\"superbeing in superbeings\" :key=\"superbeing.id\"><span>{{ superbeing }}</span></div>\n  </div>\n  <div v-if=\"civils\">\n    <div v-for=\"civil in civils\" :key=\"civil.id\"><span>{{ civil }}</span></div>\n  </div>\n  <div v-if=\"organisations\">\n    <div v-for=\"organisation in organisations\" :key=\"organisation.id\">\n      <span>{{ organisation }}</span>\n    </div>\n  </div>\n\n</template>\n\n<script>\n\nimport moment from \"moment\";\n\nexport default {\n  name: \"IncidentDetail\",\n  props: ['id'],\n  data() {\n    return {\n      incident: null,\n      comments: null,\n      superbeings: null,\n      civils: null,\n      organisations: null,\n    }\n  },\n  methods: {\n    // 1\n    getIncidentDetails() {\n      fetch(\"/shield/incident/\" + this.id)\n          .then(response => response.json())\n          .then(data => {\n            this.incident = data.incident;\n            this.comments = data.comments;\n            this.superbeings = data.superbeings;\n            this.civils = data.civils;\n            this.organisations = data.organisations;\n            // console.log(data.incident)\n            console.log(this.incident)\n            // console.log(data.comments)\n            console.log(this.comments)\n            // console.log(data.superbeings)\n            console.log(this.superbeings)\n            // console.log(data.civils)\n            // console.log(this.civils)\n            // console.log(data.organisations)\n            // console.log(this.organisations)\n\n          })\n          .catch(err => console.log(err.message));\n    },\n    //2\n    created() {\n      this.getIncidentDetails();\n\n    },\n    // 3\n    backward() {\n      this.$router.go(-1)\n    },\n    //4\n    format_date(value) {\n      if (value) {\n        return moment(String(value)).format('DD/MM/YYYY')\n      }\n    }\n\n  },\n  mounted() {\n    this.created()\n  }\n}\n</script>\n\n<style>\n.table > thead {\n  background-color: #132141;\n}\n\n.grid-container {\n  display: grid;\n  gap: 20px 20px;\n  grid-template-areas:\n    \"incident being .\"\n    \"comment media location\";\n}\n\n.incident-information {\n  grid-area: incident;\n  /*height: 26vh;*/\n  /*width: 45vw;*/\n}\n\n.comment-information {\n  grid-area: comment;\n  /*height: 26vh;*/\n  /*width: 45vw;*/\n}\n\n.grid-container-incident-info {\n  display: grid;\n  gap: 10px 20px;\n  grid-template-areas:\n    \"first1 second1\"\n    \"first2 second2\"\n    \"first3 second3\"\n    \"first4 second4\"\n    \"first5 second5\"\n    \"first6 second6\"\n    \"first7 second7\"\n    \"first8 second8\"\n    \"first9 second9\"\n}\n\n.grid-item-1 {\n  grid-area: first1;\n}\n\n.grid-item-1 > span:nth-child(2) {\n  font-weight: bold;\n}\n\n.grid-item-2 {\n  grid-area: first2;\n}\n\n.grid-item-3 {\n  grid-area: first3;\n}\n\n.grid-item-4 {\n  grid-area: first4;\n}\n\n.grid-item-5 {\n  grid-area: first5;\n}\n\n.grid-item-6 {\n  grid-area: first6;\n}\n\n.grid-item-7 {\n  grid-area: second1;\n}\n\n.grid-item-8 {\n  grid-area: second2;\n}\n\n.grid-item-9 {\n  grid-area: second3;\n}\n\n.info-nav {\n  height: 50px;\n  background-color: #132141;\n  display: flex;\n  align-items: center;\n}\n\n</style>\n"]}]}