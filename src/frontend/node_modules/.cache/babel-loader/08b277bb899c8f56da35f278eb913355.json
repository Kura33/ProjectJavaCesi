{"remainingRequest":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/babel-loader/lib/index.js!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/Login.vue","mtime":1616364775976},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9HYWJlL0Rlc2t0b3AvcHJvamV0X2phdmEvUHJvamVjdEphdmFDZXNpL3NyYy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1FcnJvcnM6IFtdLAogICAgICBlcnJvck1lc3NhZ2U6IG51bGwsCiAgICAgIGVtYWlsOiBudWxsLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgY29ubmVjdGVkOiAnJywKICAgICAgZGF0YTogJycsCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyAxCiAgICAvLyAyCiAgICBiYWNrd2FyZDogZnVuY3Rpb24gYmFja3dhcmQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgLy8gMwogICAgY2hlY2tGb3JtOiBmdW5jdGlvbiBjaGVja0Zvcm0oZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAodGhpcy5lbWFpbCAmJiB0aGlzLnBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuZm9ybUVycm9ycyA9IFtdOwoKICAgICAgaWYgKCF0aGlzLmVtYWlsKSB7CiAgICAgICAgdGhpcy5mb3JtRXJyb3JzLnB1c2goJ0VtYWlsIHJlcXVpcmVkLicpOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLnZhbGlkRW1haWwodGhpcy5lbWFpbCkpIHsKICAgICAgICB0aGlzLmZvcm1FcnJvcnMucHVzaCgnVmFsaWQgZW1haWwgcmVxdWlyZWQuJyk7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5wYXNzd29yZCkgewogICAgICAgIHRoaXMuZm9ybUVycm9ycy5wdXNoKCdQYXNzd29yZCByZXF1aXJlZC4nKTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmZvcm1FcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5jb25uZWN0aW9uKCk7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZEVtYWlsOiBmdW5jdGlvbiB2YWxpZEVtYWlsKGVtYWlsKSB7CiAgICAgIHZhciByZSA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsKTsKICAgIH0sCiAgICBjb25uZWN0aW9uOiBmdW5jdGlvbiBjb25uZWN0aW9uKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYm9keSwgaGVhZGVyczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBib2R5ID0gewogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMuZW1haWwsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICAgICAgICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIi9zaGllbGQvbG9naW4iLCB7CiAgICAgICAgICAgICAgICAgIGJvZHk6IGJvZHkKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGVkID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgN11dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30KfTs="},{"version":3,"sources":["/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/Login.vue"],"names":[],"mappings":";;AAkCA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,UAAU,EAAE,EADP;AAEL,MAAA,YAAY,EAAE,IAFT;AAGL,MAAA,KAAK,EAAE,IAHF;AAIL,MAAA,QAAQ,EAAE,IAJL;AAKL,MAAA,SAAS,EAAE,EALN;AAML,MAAA,IAAI,EAAE,EAND;AAOL,MAAA,MAAM,EAAE;AAPH,KAAP;AASD,GAZY;AAab,EAAA,OAAO,EAAE;AACP;AACA;AACA,IAAA,QAHO,sBAGI;AACT,WAAK,OAAL,CAAa,EAAb,CAAgB,CAAC,CAAjB;AACD,KALM;AAMP;AACA,IAAA,SAPO,qBAOG,CAPH,EAOM;AACX,MAAA,CAAC,CAAC,cAAF;;AACA,UAAI,KAAK,KAAL,IAAc,KAAK,QAAvB,EAAiC;AAC/B,aAAK,UAAL;AACF;;AACA,WAAK,UAAL,GAAkB,EAAlB;;AAEA,UAAI,CAAC,KAAK,KAAV,EAAiB;AACf,aAAK,UAAL,CAAgB,IAAhB,CAAqB,iBAArB;AACF,OAFA,MAEO,IAAI,CAAC,KAAK,UAAL,CAAgB,KAAK,KAArB,CAAL,EAAkC;AACvC,aAAK,UAAL,CAAgB,IAAhB,CAAqB,uBAArB;AACF;;AACA,UAAI,CAAC,KAAK,QAAV,EAAoB;AAClB,aAAK,UAAL,CAAgB,IAAhB,CAAqB,oBAArB;AACF;;AAEA,UAAI,CAAC,KAAK,UAAL,CAAgB,MAArB,EAA6B;AAC3B,aAAK,UAAL;AACF;AAGD,KA5BM;AA6BP,IAAA,UA7BO,sBA6BI,KA7BJ,EA6BW;AAChB,UAAI,EAAC,GAAI,uJAAT;AACA,aAAO,EAAE,CAAC,IAAH,CAAQ,KAAR,CAAP;AACD,KAhCM;AAiCD,IAAA,UAjCC,wBAiCY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEX,gBAAA,IAFW,GAEJ;AACH,kBAAA,KAAK,EAAE,KAAI,CAAC,KADT;AAEH,kBAAA,QAAQ,EAAE,KAAI,CAAC;AAFZ,iBAFI;AAMX,gBAAA,OANW,GAMD;AAAC,4BAAU,kBAAX;AAA+B,kCAAgB;AAA/C,iBANC;AAAA;AAAA;AAAA,uBAQT,KAAK,CAAC,IAAN,kBAA4B;AAChC,kBAAA,IAAI,EAAE;AAD0B,iBAA5B,EAEH;AAAC,kBAAA,OAAO,EAAP;AAAD,iBAFG,EAGL,IAHK,CAGA,UAAA,QAAO,EAAK;AAChB,kBAAA,KAAI,CAAC,SAAL,GAAiB,QAAjB;AACA,kBAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACD,iBANK,CARS;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAsBf,gBAAA,KAAI,CAAC,MAAL,CAAY,IAAZ;;AAtBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBnB;AAzDO,GAbI;AAwEb,EAAA,OAxEa,qBAwEH,CACV;AAzEa,CAAf","sourcesContent":["<template>\n  <div class=\"content w-25 m-auto\">\n    <div class=\"errors\" v-if=\"errorMessage\">\n      <span><b>Please correct the following error(s):</b></span>\n      <ul>\n        <li>{{ errorMessage }}</li>\n      </ul>\n    </div>\n\n\n    <form action=\"\" @submit=\"checkForm\" method=\"post\" class=\"flex flex-column\">\n      <div class=\"form-group\">\n        <label for=\"email\">Email address</label>\n        <input v-model=\"email\" name=\"email\" type=\"email\" class=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\"\n               placeholder=\"Enter email\">\n        <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"password\">Password</label>\n        <input v-model=\"password\" name=\"password\" type=\"password\" class=\"form-control\" id=\"password\"\n               placeholder=\"Password\">\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary m-auto\">Se connecter</button>\n    </form>\n  </div>\n  <div v-for=\"error in errors\" :key=\"error.message\">\n    <div>{{error}}</div>\n    <br>\n  </div>\n\n  <div>{{ connected ? connected :'nope' }}</div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      formErrors: [],\n      errorMessage: null,\n      email: null,\n      password: null,\n      connected: '',\n      data: '',\n      errors: [],\n    }\n  },\n  methods: {\n    // 1\n    // 2\n    backward() {\n      this.$router.go(-1)\n    },\n    // 3\n    checkForm(e) {\n      e.preventDefault();\n      if (this.email && this.password) {\n        this.connection();\n      }\n      this.formErrors = [];\n\n      if (!this.email) {\n        this.formErrors.push('Email required.');\n      } else if (!this.validEmail(this.email)) {\n        this.formErrors.push('Valid email required.');\n      }\n      if (!this.password) {\n        this.formErrors.push('Password required.');\n      }\n\n      if (!this.formErrors.length) {\n        this.connection();\n      }\n\n\n    },\n    validEmail(email) {\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email);\n    },\n    async connection() {\n\n      const body = {\n                email: this.email,\n                password: this.password,\n              };\n      const headers = {\"Accept\": \"application/json\", \"Content-Type\": \"application/json\"};\n      try {\n        await axios.post(`/shield/login`, {\n          body: body\n        }, {headers})\n        .then(response => {\n          this.connected = response;\n          console.log(response)\n        })\n        // .then(response => {\n        //   axios.post(`/shield/user`,\n        //       {},\n        //       // {body: response},\n        //       {headers: {Authorization: response.token}})\n        // })\n      } catch (e) {\n        this.errors.push(e)\n      }\n    }\n  },\n  mounted() {\n  }\n}\n</script>"],"sourceRoot":""}]}