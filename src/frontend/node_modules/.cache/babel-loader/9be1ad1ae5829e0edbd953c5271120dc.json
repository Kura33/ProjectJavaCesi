{"remainingRequest":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/babel-loader/lib/index.js!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/incident/IncidentCreation.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/incident/IncidentCreation.vue","mtime":1616938056894},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9HYWJlL0Rlc2t0b3AvcHJvamV0X2phdmEvUHJvamVjdEphdmFDZXNpL3NyYy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IEluY2lkZW50IGZyb20gIkAvdmlld3MvaW5jaWRlbnQvSW5jaWRlbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkluY2lkZW50Q3JlYXRpb24iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZWZlcmVuY2U6IG51bGwsCiAgICAgIHN0YXJ0RGF0ZTogbnVsbCwKICAgICAgZW5kRGF0ZTogbnVsbCwKICAgICAgc29sdmVkOiBudWxsLAogICAgICBkYW5nZXJvdXNuZXNzOiBudWxsLAogICAgICBzdGF0dXM6IG51bGwsCiAgICAgIGFyY2hpdmU6IDAsCiAgICAgIGV2ZW50VHlwZTogbnVsbCwKICAgICAgY29tbWVudHM6IG51bGwsCiAgICAgIGNpdmlsMTogbnVsbCwKICAgICAgY2l2aWwyOiBudWxsLAogICAgICBjaXZpbDc6IG51bGwsCiAgICAgIG9yZ2EzOiBudWxsLAogICAgICBvcmdhODogbnVsbCwKICAgICAgc3VwZXJiZWluZzE6IG51bGwsCiAgICAgIHN1cGVyYmVpbmcyOiBudWxsLAogICAgICBzdXBlcmJlaW5nMzogbnVsbCwKICAgICAgY2l2aWxzOiBbXSwKICAgICAgb3JnYW5pc2F0aW9uczogW10sCiAgICAgIHN1cGVyYmVpbmdzOiBbXSwKICAgICAgcmVzdWx0OiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNyZWF0aW9uOiBmdW5jdGlvbiBoYW5kbGVDcmVhdGlvbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGJvZHksIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5jaXZpbDEgPT0gdHJ1ZSA/IF90aGlzLmNpdmlscy5wdXNoKDEpIDogJyc7CiAgICAgICAgICAgICAgICBfdGhpcy5jaXZpbDIgPT0gdHJ1ZSA/IF90aGlzLmNpdmlscy5wdXNoKDIpIDogJyc7CiAgICAgICAgICAgICAgICBfdGhpcy5jaXZpbDcgPT0gdHJ1ZSA/IF90aGlzLmNpdmlscy5wdXNoKDcpIDogJyc7CiAgICAgICAgICAgICAgICBfdGhpcy5vcmdhMyA9PSB0cnVlID8gX3RoaXMub3JnYW5pc2F0aW9ucy5wdXNoKDMpIDogJyc7CiAgICAgICAgICAgICAgICBfdGhpcy5vcmdhOCA9PSB0cnVlID8gX3RoaXMub3JnYW5pc2F0aW9ucy5wdXNoKDgpIDogJyc7CiAgICAgICAgICAgICAgICBfdGhpcy5zdXBlcmJlaW5nMSA9PSB0cnVlID8gX3RoaXMuc3VwZXJiZWluZ3MucHVzaCgxKSA6ICcnOwogICAgICAgICAgICAgICAgX3RoaXMuc3VwZXJiZWluZzIgPT0gdHJ1ZSA/IF90aGlzLnN1cGVyYmVpbmdzLnB1c2goMikgOiAnJzsKICAgICAgICAgICAgICAgIF90aGlzLnN1cGVyYmVpbmczID09IHRydWUgPyBfdGhpcy5zdXBlcmJlaW5ncy5wdXNoKDMpIDogJyc7CiAgICAgICAgICAgICAgICBib2R5ID0gW3sKICAgICAgICAgICAgICAgICAgInJlZiI6IF90aGlzLnJlZmVyZW5jZSwKICAgICAgICAgICAgICAgICAgInN0YXJ0RGF0ZSI6IF90aGlzLnN0YXJ0RGF0ZSwKICAgICAgICAgICAgICAgICAgImVuZERhdGUiOiBfdGhpcy5lbmREYXRlLAogICAgICAgICAgICAgICAgICAic29sdmVkIjogX3RoaXMuc29sdmVkLAogICAgICAgICAgICAgICAgICAiYXJjaGl2ZSI6IF90aGlzLmFyY2hpdmUsCiAgICAgICAgICAgICAgICAgICJkYW5nZXJvdXNuZXNzIjogX3RoaXMuZGFuZ2Vyb3VzbmVzcywKICAgICAgICAgICAgICAgICAgInN0YXR1cyI6IF90aGlzLnN0YXR1cywKICAgICAgICAgICAgICAgICAgImV2ZW50VHlwZSI6IHsKICAgICAgICAgICAgICAgICAgICAibmFtZSI6IF90aGlzLmV2ZW50VHlwZQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAiY2l2aWxzIjogX3RoaXMuY2l2aWxzLAogICAgICAgICAgICAgICAgICAib3JnYW5pc2F0aW9ucyI6IF90aGlzLm9yZ2FuaXNhdGlvbnMsCiAgICAgICAgICAgICAgICAgICJzdXBlcmJlaW5ncyI6IF90aGlzLnN1cGVyYmVpbmdzLAogICAgICAgICAgICAgICAgICAiY29tbWVudHMiOiBbewogICAgICAgICAgICAgICAgICAgICJjb21tZW50cyI6ICJwcmVtaWVyIGNvbW1lbnRhaXJlIgogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgImNvbW1lbnRzIjogInNlY29uZCBjb21tZW50YWlyZSIKICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgcmVzdWx0ID0gJyc7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiL3NoaWVsZC9pbmNpZGVudC9jcmVhdGUiLCBib2R5LCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIjogIioiLAogICAgICAgICAgICAgICAgICAgICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscyI6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2Uuc3RhdHVzID09PSAyMDAgPyAnSW5jaWRlbnQgY3LDqcOpIGF2ZWMgc3VjY8OocycgOiAnaW5jaWRlbnQgbm9uIGNyw6nDqSc7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goSW5jaWRlbnQpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMucmVzdWx0ID0gcmVzdWx0OwogICAgICAgICAgICAgICAgICBhbGVydChfdGhpcy5yZXN1bHQpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYmFja3dhcmQ6IGZ1bmN0aW9uIGJhY2t3YXJkKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/incident/IncidentCreation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"page-content p-5\">\n\n    <button @click=\"backward\" class=\"back-btn btn btn-secondary mb-2\">Retour</button>\n\n    <div class=\"content w-25 m-auto\">\n      <form action=\"\" @submit.prevent=\"handleCreation\" method=\"post\" class=\"flex flex-column\">\n\n        <div class=\"form-group\">\n          <label for=\"reference\">référence</label>\n          <input v-model=\"reference\" name=\"reference\" type=\"text\" class=\"form-control\" id=\"reference\"\n                 placeholder=\"Enter référence\">\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"startDate\">Date de début</label>\n          <input v-model=\"startDate\" name=\"startDate\" type=\"date\" class=\"form-control\" id=\"startDate\"\n                 placeholder=\"2021-03-12\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"endDate\">Date de fin</label>\n          <input v-model=\"endDate\" name=\"endDate\" type=\"date\" class=\"form-control\" id=\"endDate\"\n                 placeholder=\"2021-03-13\">\n        </div>\n        <div class=\"form-group\">\n          <label>Résolu ? Oui</label><input v-model=\"solved\" name=\"solved\" type=\"radio\" value=\"true\">\n          <label>Non</label><input v-model=\"solved\" name=\"unsolved\" type=\"radio\" value=\"false\">\n        </div>\n        <div class=\"form-group\">\n          <label>Dangerosité</label>\n          <input v-model=\"dangerousness\" name=\"dangerousness\" type=\"number\" step=\"0.01\" class=\"form-control\">\n        </div>\n\n\n\n        <div class=\"form-group\">\n          <label>Statut</label>\n          <select id=\"status\" v-model=\"status\" name=\"status\" type=\"text\" class=\"form-control\">\n            <option value=\"À prendre en charge\">À prendre en charge</option>\n            <option value=\"Traitement en cours\">Traitement en cours</option>\n            <option value=\"Intervention demandée\">Intervention demandée</option>\n            <option value=\"Refusée\">Refusée</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label>Type d'incident</label>\n          <input v-model=\"eventType\" name=\"eventType\" type=\"text\" class=\"form-control\">\n        </div>\n        <div class=\"form-group\">\n          <label>Civil 1</label><input type=\"checkbox\" v-model=\"civil1\" value=\"1\">\n          <label>Civil 2</label><input type=\"checkbox\" v-model=\"civil2\" value=\"2\">\n          <label>Civil 7</label><input type=\"checkbox\" v-model=\"civil7\" value=\"7\">\n        </div>\n        <div class=\"form-group\">\n          <label>Organisation 3</label><input type=\"checkbox\" v-model=\"orga3\" value=\"3\">\n          <label>Organisation 8</label><input type=\"checkbox\" v-model=\"orga8\" value=\"8\">\n        </div>\n        <div class=\"form-group\">\n          <label>Superbeing 1</label><input type=\"checkbox\" v-model=\"superbeing1\" value=\"1\">\n          <label>Superbeing 2</label><input type=\"checkbox\" v-model=\"superbeing2\" value=\"2\">\n          <label>Superbeing 3</label><input type=\"checkbox\" v-model=\"superbeing3\" value=\"3\">\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary m-auto\">Créer un incident</button>\n\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Incident from \"@/views/incident/Incident\";\n\nexport default {\n  name: \"IncidentCreation\",\n  data() {\n    return {\n      reference: null,\n      startDate: null,\n      endDate: null,\n      solved: null,\n      dangerousness: null,\n      status: null,\n      archive: 0,\n      eventType: null,\n      comments: null,\n      civil1: null,\n      civil2: null,\n      civil7: null,\n      orga3: null,\n      orga8: null,\n      superbeing1: null,\n      superbeing2: null,\n      superbeing3: null,\n      civils: [],\n      organisations: [],\n      superbeings: [],\n      result: '',\n    }\n  },\n  methods: {\n    async handleCreation() {\n\n      this.civil1 == true ? this.civils.push(1) : '';\n      this.civil2 == true ? this.civils.push(2) : '';\n      this.civil7 == true ? this.civils.push(7) : '';\n\n      this.orga3 == true ? this.organisations.push(3) : '';\n      this.orga8 == true ? this.organisations.push(8) : '';\n\n      this.superbeing1 == true ? this.superbeings.push(1) : '';\n      this.superbeing2 == true ? this.superbeings.push(2) : '';\n      this.superbeing3 == true ? this.superbeings.push(3) : '';\n\n      const body = [\n        {\n          \"ref\": this.reference,\n          \"startDate\": this.startDate,\n          \"endDate\": this.endDate,\n          \"solved\": this.solved,\n          \"archive\": this.archive,\n          \"dangerousness\": this.dangerousness,\n          \"status\": this.status,\n          \"eventType\": {\n            \"name\": this.eventType,\n          },\n          \"civils\": this.civils,\n          \"organisations\": this.organisations,\n          \"superbeings\": this.superbeings,\n          \"comments\": [\n            {\n              \"comments\": \"premier commentaire\"\n            },\n            {\n              \"comments\": \"second commentaire\"\n            }\n          ]\n        }\n      ];\n      let result = '';\n      await axios.post(\"/shield/incident/create\", body, {\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Access-Control-Allow-Credentials\": true,\n          Authorization: 'Bearer ' + localStorage.getItem(\"token\"),\n        }\n      })\n          .then(response => {\n            result = response.status === 200 ? 'Incident créé avec succès' : 'incident non créé';\n            this.$router.push(Incident)\n\n\n            this.result = result;\n\n            alert(this.result)\n          })\n          .catch(err => console.log(err.message));\n    },\n    backward() {\n      this.$router.go(-1)\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}