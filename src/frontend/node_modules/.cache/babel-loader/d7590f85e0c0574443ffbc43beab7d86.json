{"remainingRequest":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/babel-loader/lib/index.js!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/store/modules/user.js","dependencies":[{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/store/modules/user.js","mtime":1616530282203},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvR2FiZS9EZXNrdG9wL3Byb2pldF9qYXZhL1Byb2plY3RKYXZhQ2VzaS9zcmMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCnZhciBfbXV0YXRpb25zOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IFVTRVJfUkVRVUVTVCwgVVNFUl9FUlJPUiwgVVNFUl9TVUNDRVNTIH0gZnJvbSAiLi4vYWN0aW9ucy91c2VyIjsKaW1wb3J0IGFwaUNhbGwgZnJvbSAidXRpbHMvYXBpIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgeyBBVVRIX0xPR09VVCB9IGZyb20gIi4uL2FjdGlvbnMvYXV0aCI7CnZhciBzdGF0ZSA9IHsKICBzdGF0dXM6ICIiLAogIHByb2ZpbGU6IHt9Cn07CnZhciBnZXR0ZXJzID0gewogIGdldFByb2ZpbGU6IGZ1bmN0aW9uIGdldFByb2ZpbGUoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5wcm9maWxlOwogIH0sCiAgaXNQcm9maWxlTG9hZGVkOiBmdW5jdGlvbiBpc1Byb2ZpbGVMb2FkZWQoc3RhdGUpIHsKICAgIHJldHVybiAhIXN0YXRlLnByb2ZpbGUubmFtZTsKICB9Cn07Cgp2YXIgYWN0aW9ucyA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgVVNFUl9SRVFVRVNULCBmdW5jdGlvbiAoX3JlZikgewogIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogIGNvbW1pdChVU0VSX1JFUVVFU1QpOwogIGFwaUNhbGwoewogICAgdXJsOiAidXNlci9tZSIKICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICBjb21taXQoVVNFUl9TVUNDRVNTLCByZXNwKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICBjb21taXQoVVNFUl9FUlJPUik7IC8vIGlmIHJlc3AgaXMgdW5hdXRob3JpemVkLCBsb2dvdXQsIHRvCgogICAgZGlzcGF0Y2goQVVUSF9MT0dPVVQpOwogIH0pOwp9KTsKCnZhciBtdXRhdGlvbnMgPSAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgVVNFUl9SRVFVRVNULCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5zdGF0dXMgPSAibG9hZGluZyI7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgVVNFUl9TVUNDRVNTLCBmdW5jdGlvbiAoc3RhdGUsIHJlc3ApIHsKICBzdGF0ZS5zdGF0dXMgPSAic3VjY2VzcyI7CiAgVnVlLnNldChzdGF0ZSwgInByb2ZpbGUiLCByZXNwKTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBVU0VSX0VSUk9SLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5zdGF0dXMgPSAiZXJyb3IiOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfTE9HT1VULCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS5wcm9maWxlID0ge307Cn0pLCBfbXV0YXRpb25zKTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/store/modules/user.js"],"names":["USER_REQUEST","USER_ERROR","USER_SUCCESS","apiCall","Vue","AUTH_LOGOUT","state","status","profile","getters","getProfile","isProfileLoaded","name","actions","commit","dispatch","url","then","resp","catch","mutations","set"],"mappings":";;;;;AAAA,SAASA,YAAT,EAAuBC,UAAvB,EAAmCC,YAAnC,QAAuD,iBAAvD;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,SAASC,WAAT,QAA4B,iBAA5B;AAEA,IAAMC,KAAK,GAAG;AAAEC,EAAAA,MAAM,EAAE,EAAV;AAAcC,EAAAA,OAAO,EAAE;AAAvB,CAAd;AAEA,IAAMC,OAAO,GAAG;AACdC,EAAAA,UAAU,EAAE,oBAAAJ,KAAK;AAAA,WAAIA,KAAK,CAACE,OAAV;AAAA,GADH;AAEdG,EAAAA,eAAe,EAAE,yBAAAL,KAAK;AAAA,WAAI,CAAC,CAACA,KAAK,CAACE,OAAN,CAAcI,IAApB;AAAA;AAFR,CAAhB;;AAKA,IAAMC,OAAO,uBACVb,YADU,EACK,gBAA0B;AAAA,MAAvBc,MAAuB,QAAvBA,MAAuB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACxCD,EAAAA,MAAM,CAACd,YAAD,CAAN;AACAG,EAAAA,OAAO,CAAC;AAAEa,IAAAA,GAAG,EAAE;AAAP,GAAD,CAAP,CACGC,IADH,CACQ,UAAAC,IAAI,EAAI;AACZJ,IAAAA,MAAM,CAACZ,YAAD,EAAegB,IAAf,CAAN;AACD,GAHH,EAIGC,KAJH,CAIS,YAAM;AACXL,IAAAA,MAAM,CAACb,UAAD,CAAN,CADW,CAEX;;AACAc,IAAAA,QAAQ,CAACV,WAAD,CAAR;AACD,GARH;AASD,CAZU,CAAb;;AAeA,IAAMe,SAAS,iDACZpB,YADY,EACG,UAAAM,KAAK,EAAI;AACvBA,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACD,CAHY,+BAIZL,YAJY,EAIG,UAACI,KAAD,EAAQY,IAAR,EAAiB;AAC/BZ,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACAH,EAAAA,GAAG,CAACiB,GAAJ,CAAQf,KAAR,EAAe,SAAf,EAA0BY,IAA1B;AACD,CAPY,+BAQZjB,UARY,EAQC,UAAAK,KAAK,EAAI;AACrBA,EAAAA,KAAK,CAACC,MAAN,GAAe,OAAf;AACD,CAVY,+BAWZF,WAXY,EAWE,UAAAC,KAAK,EAAI;AACtBA,EAAAA,KAAK,CAACE,OAAN,GAAgB,EAAhB;AACD,CAbY,cAAf;AAgBA,eAAe;AACbF,EAAAA,KAAK,EAALA,KADa;AAEbG,EAAAA,OAAO,EAAPA,OAFa;AAGbI,EAAAA,OAAO,EAAPA,OAHa;AAIbO,EAAAA,SAAS,EAATA;AAJa,CAAf","sourcesContent":["import { USER_REQUEST, USER_ERROR, USER_SUCCESS } from \"../actions/user\";\nimport apiCall from \"utils/api\";\nimport Vue from \"vue\";\nimport { AUTH_LOGOUT } from \"../actions/auth\";\n\nconst state = { status: \"\", profile: {} };\n\nconst getters = {\n  getProfile: state => state.profile,\n  isProfileLoaded: state => !!state.profile.name\n};\n\nconst actions = {\n  [USER_REQUEST]: ({ commit, dispatch }) => {\n    commit(USER_REQUEST);\n    apiCall({ url: \"user/me\" })\n      .then(resp => {\n        commit(USER_SUCCESS, resp);\n      })\n      .catch(() => {\n        commit(USER_ERROR);\n        // if resp is unauthorized, logout, to\n        dispatch(AUTH_LOGOUT);\n      });\n  }\n};\n\nconst mutations = {\n  [USER_REQUEST]: state => {\n    state.status = \"loading\";\n  },\n  [USER_SUCCESS]: (state, resp) => {\n    state.status = \"success\";\n    Vue.set(state, \"profile\", resp);\n  },\n  [USER_ERROR]: state => {\n    state.status = \"error\";\n  },\n  [AUTH_LOGOUT]: state => {\n    state.profile = {};\n  }\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};\n"]}]}