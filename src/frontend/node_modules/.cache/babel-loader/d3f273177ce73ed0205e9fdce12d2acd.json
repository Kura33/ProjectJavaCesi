{"remainingRequest":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/babel-loader/lib/index.js!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/Login.vue","mtime":1616938056893},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9HYWJlL0Rlc2t0b3AvcHJvamV0X2phdmEvUHJvamVjdEphdmFDZXNpL3NyYy9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEluY2lkZW50IGZyb20gIkAvdmlld3MvaW5jaWRlbnQvSW5jaWRlbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gZm9ybUVycm9yczogW10sCiAgICAgIC8vIGVycm9yTWVzc2FnZTogbnVsbCwKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBiYWNrd2FyZDogZnVuY3Rpb24gYmFja3dhcmQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvc2hpZWxkL2xvZ2luIiwgewogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMuZW1haWwsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaChJbmNpZGVudCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/Gabe/Desktop/projet_java/ProjectJavaCesi/src/frontend/src/views/Login.vue"],"names":[],"mappings":";;AAoBA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,QAAP,MAAqB,2BAArB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL;AACA;AACA,MAAA,KAAK,EAAE,EAHF;AAIL,MAAA,QAAQ,EAAE;AAJL,KAAP;AAMD,GATY;AAUb,EAAA,OAAO,EAAE;AACP,IAAA,QADO,sBACI;AACT,WAAK,OAAL,CAAa,EAAb,CAAgB,CAAC,CAAjB;AACD,KAHM;AAKD,IAAA,YALC,0BAKc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACI,KAAK,CAAC,IAAN,kBAA4B;AACjD,kBAAA,KAAK,EAAE,KAAI,CAAC,KADqC;AAEjD,kBAAA,QAAQ,EAAE,KAAI,CAAC;AAFkC,iBAA5B,CADJ;;AAAA;AACb,gBAAA,QADa;AAKnB,gBAAA,YAAY,CAAC,OAAb,CAAqB,OAArB,EAA8B,QAAQ,CAAC,IAAT,CAAc,KAA5C;;AACA,gBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,QAAlB;;AANmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQpB;AAbM;AAVI,CAAf","sourcesContent":["<template>\n  <div class=\"content w-25 m-auto\">\n    <form action=\"\" @submit.prevent=\"handleSubmit\" method=\"post\" class=\"flex flex-column\">\n      <div class=\"form-group\">\n        <label for=\"email\">Email address</label>\n        <input v-model=\"email\" name=\"email\" type=\"email\" class=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\"\n               placeholder=\"Enter email\">\n        <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"password\">Password</label>\n        <input v-model=\"password\" name=\"password\" type=\"password\" class=\"form-control\" id=\"password\"\n               placeholder=\"Password\">\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary m-auto\">Se connecter</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Incident from \"@/views/incident/Incident\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      // formErrors: [],\n      // errorMessage: null,\n      email: '',\n      password: '',\n    }\n  },\n  methods: {\n    backward() {\n      this.$router.go(-1)\n    },\n\n    async handleSubmit() {\n      const response = await axios.post(`/shield/login`, {\n        email: this.email,\n        password: this.password,\n      })\n      localStorage.setItem(\"token\", response.data.token)\n      this.$router.push(Incident)\n\n    },\n  },\n}\n</script>"],"sourceRoot":""}]}